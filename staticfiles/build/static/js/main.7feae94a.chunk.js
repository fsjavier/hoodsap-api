(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{108:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(27),r=a.n(n),o=(a(108),a(16)),l=a(20),i=a.n(l),j=a(55),d=a(99),u=a(50),b=a(8),m=a(66),h=a.p+"static/media/hoodsap_logo.4deabc4a.webp",x=a(92),p=a.n(x),O=a(1);var g=e=>{let{src:t,height:a=45,text:s}=e;return Object(O.jsxs)("span",{children:[Object(O.jsx)("img",{className:p.a.Avatar,src:t,height:a,width:a,alt:"avatar"}),s]})},v=a(141),_=a(142),f=a(143),N=a(144),y=a(145),w=a(146),C=a(147),I=a(148),S=a(149),k=a(23),L=a.n(k),P=a(10),B=a(18),F=a.n(B);F.a.defaults.baseURL="/api",F.a.defaults.headers.post["Content-Type"]="multipart/form-data",F.a.defaults.withCredentials=!0;const A=F.a.create(),E=F.a.create();var R=a(9);const T=Object(s.createContext)(),U=Object(s.createContext)(),G=()=>Object(s.useContext)(T),D=()=>Object(s.useContext)(U),M=e=>{let{children:t}=e;const[a,c]=Object(s.useState)(null),n=Object(R.useHistory)();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await E.get("dj-rest-auth/user/");c(e)}catch(e){console.log(e)}})()}),[]),Object(s.useMemo)((()=>{A.interceptors.request.use((async e=>{try{await F.a.post("/dj-rest-auth/token/refresh/")}catch(t){return c((e=>(e&&n.push("/signin"),null))),e}return e}),(e=>Promise.reject(e))),E.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await F.a.post("/dj-rest-auth/token/refresh/")}catch(e){c((e=>(e&&n.push("/signin"),null)))}return F()(e.config)}return Promise.reject(e)}))}),[n]),Object(O.jsx)(T.Provider,{value:a,children:Object(O.jsx)(U.Provider,{value:c,children:t})})};var H=()=>{const[e,t]=Object(s.useState)(!1),a=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}})),{expanded:e,setExpanded:t,ref:a}};const z=Object(s.createContext)(),Z=Object(s.createContext)(),q=e=>{let{children:t}=e;const[a,c]=Object(s.useState)("");return Object(O.jsx)(z.Provider,{value:a,children:Object(O.jsx)(Z.Provider,{value:c,children:t})})};var J=function(){const e=G(),t=D(),{expanded:a,setExpanded:c,ref:n}=H(),r=Object(s.useContext)(Z),l=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(P.c,{exact:!0,to:"/",className:L.a.NavLink,activeClassName:L.a.Active,children:[Object(O.jsx)(v.a,{className:i.a.Icon}),"Home"]}),Object(O.jsxs)(P.c,{exact:!0,to:"/events",className:L.a.NavLink,activeClassName:L.a.Active,children:[Object(O.jsx)(_.a,{className:i.a.Icon}),"Events"]}),Object(O.jsxs)(P.c,{exact:!0,to:"/feed",className:L.a.NavLink,activeClassName:L.a.Active,children:[Object(O.jsx)(f.a,{className:i.a.Icon}),"Feed"]}),Object(O.jsxs)(u.a,{title:Object(O.jsx)(g,{src:null===e||void 0===e?void 0:e.profile_image,height:40,text:"Hi ".concat(null===e||void 0===e?void 0:e.username)}),id:"basic-nav-dropdown",children:[Object(O.jsxs)(u.a.Item,{as:P.c,to:"/posts/create",className:L.a.NavLink,children:[Object(O.jsx)(N.a,{className:i.a.Icon})," Add post"]}),Object(O.jsxs)(u.a.Item,{as:P.c,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:[Object(O.jsx)(y.a,{className:i.a.Icon})," Profile"]}),Object(O.jsx)(u.a.Divider,{}),Object(O.jsxs)(u.a.Item,{onClick:async()=>{try{await F.a.post("/dj-rest-auth/logout/"),t(null)}catch(e){console.log(e)}},children:[Object(O.jsx)(w.a,{className:i.a.Icon}),"Sign out"]})]})]}),x=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(P.c,{to:"/signup",className:L.a.NavLink,activeClassName:L.a.Active,children:[Object(O.jsx)(C.a,{className:i.a.Icon}),"Sign up"]}),Object(O.jsxs)(P.c,{to:"/signin",className:L.a.NavLink,activeClassName:L.a.Active,children:[Object(O.jsx)(I.a,{className:i.a.Icon}),"Sign in"]})]});return Object(O.jsx)(j.a,{expanded:a,expand:"md",fixed:"top",className:L.a.NavBar,children:Object(O.jsxs)(o.a,{fluid:!0,children:[Object(O.jsx)(P.c,{to:"/",children:Object(O.jsx)(j.a.Brand,{href:"#home",children:Object(O.jsx)("img",{src:h,height:45,alt:"logo"})})}),Object(O.jsxs)(b.a,{inline:!0,className:"".concat(L.a.SearchBar," mx-auto"),onSubmit:e=>e.preventDefault(),children:[Object(O.jsx)(S.a,{className:L.a.SearchIcon}),Object(O.jsx)(m.a,{type:"text",placeholder:"Search",onChange:e=>{r(e.target.value)},className:"mr-sm-2"})]}),Object(O.jsx)(j.a.Toggle,{ref:n,onClick:()=>c(!a),"aria-controls":"basic-navbar-nav"}),Object(O.jsx)(j.a.Collapse,{id:"basic-navbar-nav",className:"flex-grow-0",children:Object(O.jsx)(d.a,{className:"ml-auto align-items-center",children:e?l:x})})]})})},Q=a(17),K=a(13),V=a(21),X=a(43),Y=a.n(X);var W=function(e){let{children:t,type:a,variant:s,disabled:c,onClick:n}=e;const r=Y.a[s]||Y.a.Primary;return Object(O.jsx)("button",{type:a,onClick:n,disabled:c,className:"".concat(Y.a.Button," ").concat(r),children:t})},$=a(36),ee=a.n($),te=a(78);var ae=()=>{var e,t,a,c;const[n,r]=Object(s.useState)({username:"",password1:"",password2:""}),[l,j]=Object(s.useState)({}),d=Object(te.useHistory)(),{username:u,password1:m,password2:h}=n,x=u&&m&&h;function p(e){r({...n,[e.target.name]:e.target.value})}return Object(O.jsx)(o.a,{children:Object(O.jsx)(Q.a,{className:"".concat(ee.a.Row," ").concat(ee.a.Background),children:Object(O.jsx)(K.a,{className:"my-auto mx-auto",md:6,xl:4,children:Object(O.jsxs)(o.a,{className:"".concat(ee.a.FormContainer),children:[Object(O.jsx)("h2",{children:"Sign Up"}),Object(O.jsxs)(b.a,{onSubmit:async e=>{e.preventDefault();try{await F.a.post("/dj-rest-auth/registration/",n),d.push("/signin")}catch(a){var t;j(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(O.jsxs)(b.a.Group,{controlId:"username",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Username"}),Object(O.jsx)(b.a.Control,{type:"text",name:"username",placeholder:"Username",value:u,onChange:p,className:"mt-3"})]}),null===(e=l.username)||void 0===e?void 0:e.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t))),Object(O.jsxs)(b.a.Group,{controlId:"password1",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Password"}),Object(O.jsx)(b.a.Control,{type:"password",name:"password1",placeholder:"Password",value:m,onChange:p,className:"mt-3"})]}),null===(t=l.password1)||void 0===t?void 0:t.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t))),Object(O.jsxs)(b.a.Group,{controlId:"password2",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Confirm password"}),Object(O.jsx)(b.a.Control,{type:"password",name:"password2",placeholder:"Confirm password",value:h,onChange:p,className:"mt-3"})]}),null===(a=l.password2)||void 0===a?void 0:a.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t))),Object(O.jsxs)("p",{className:"small",children:["Do you already have an acount?"," ",Object(O.jsx)(te.Link,{to:"/signin",className:i.a.Link,children:"Sign in"})]}),Object(O.jsx)(W,{variant:"Primary",type:"submit",disabled:!x,className:"mx-auto",children:"Sign Up Now"}),null===(c=l.non_field_errors)||void 0===c?void 0:c.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",className:"mt-3",children:e},t)))]})]})})})})};var se=()=>{var e,t,a;const c=D(),[n,r]=Object(s.useState)({username:"",password:""}),[l,j]=Object(s.useState)({}),d=Object(R.useHistory)(),{username:u,password:m}=n,h=u&&m;function x(e){r({...n,[e.target.name]:e.target.value})}return Object(O.jsx)(o.a,{children:Object(O.jsx)(Q.a,{className:"".concat(ee.a.Row," ").concat(ee.a.Background),children:Object(O.jsx)(K.a,{className:"my-auto mx-auto",md:6,xl:4,children:Object(O.jsxs)(o.a,{className:"".concat(ee.a.FormContainer),children:[Object(O.jsx)("h2",{children:"Sign In"}),Object(O.jsxs)(b.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await F.a.post("/dj-rest-auth/login/",n);c(e.user),d.push("/")}catch(a){var t;j(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(O.jsxs)(b.a.Group,{controlId:"username",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Username"}),Object(O.jsx)(b.a.Control,{type:"text",name:"username",placeholder:"Username",value:u,onChange:x,className:"mt-3"})]}),null===(e=l.username)||void 0===e?void 0:e.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t))),Object(O.jsxs)(b.a.Group,{controlId:"password",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Password"}),Object(O.jsx)(b.a.Control,{type:"password",name:"password",placeholder:"Password",value:m,onChange:x,className:"mt-3"})]}),null===(t=l.password)||void 0===t?void 0:t.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t))),Object(O.jsxs)("p",{className:"small",children:["Don't have an acount?"," ",Object(O.jsx)(P.b,{to:"/signup",className:i.a.Link,children:"Sign up"})]}),Object(O.jsx)(W,{variant:"Primary",type:"submit",disabled:!h,className:"mx-auto",children:"Sign In"}),null===(a=l.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",className:"mt-3",children:e},t)))]})]})})})})},ce=a(49),ne=a.n(ce),re=a(150),oe=a(151),le=a(152),ie=a(158);const je=e=>{let{setPosition:t,position:a,setLocationError:c,handleLocationChange:n}=e;const r=Object(re.a)({click(e){t(e.latlng),n(e.latlng)},locationfound(e){r.flyTo(e.latlng,13),t(e.latlng),n(e.latlng)},locationerror(e){c(e.message),console.log(e.message)}});return Object(s.useEffect)((()=>{r.locate()}),[]),a?Object(O.jsx)(oe.a,{position:a}):null};var de=e=>{let{handleLocationChange:t}=e;const[a,c]=Object(s.useState)(null),[n,r]=Object(s.useState)("");return Object(O.jsxs)(O.Fragment,{children:[a||"Geolocation error: User denied Geolocation."!==n?null:Object(O.jsx)(V.a,{variant:"warning",children:"Location denied, plase select a location manually"}),Object(O.jsxs)(le.a,{center:{lat:53,lng:14},zoom:3,style:{height:"300px",width:"100%"},children:[Object(O.jsx)(ie.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Object(O.jsx)(je,{setPosition:c,position:a,setLocationError:r,locationError:n,handleLocationChange:t})]})]})},ue=a(153),be=a(95),me=a.n(be);var he=e=>{let{spinner:t,src:a,message:s,height:c,width:n}=e;return Object(O.jsxs)("div",{className:me.a.Asset,children:[t&&Object(O.jsx)(ue.a,{animation:"border"}),a&&Object(O.jsx)("img",{src:a,alt:s,height:c,width:n}),s&&Object(O.jsx)("p",{className:"mt-4",children:s})]})},xe=a(96);var pe=e=>{let{image:t,imageInputRef:a,handleChangeImage:s}=e;return Object(O.jsxs)(b.a.Group,{children:[t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("figure",{className:ne.a.Image__Container,children:Object(O.jsx)(xe.a,{src:t,className:ne.a.Image})}),Object(O.jsx)("div",{children:Object(O.jsx)(b.a.Label,{htmlFor:"image-upload",className:"".concat(Y.a.Button," ").concat(Y.a.Primary),children:"Change the image"})})]}):Object(O.jsx)(b.a.Label,{htmlFor:"image-upload",className:"d-flex justify-content-center",children:Object(O.jsx)(he,{src:"https://res.cloudinary.com/drffvkjy6/image/upload/v1707474874/upload_icon_bdzvjh.webp",message:"Click or tap to upload an image",height:100,width:100})}),Object(O.jsx)(b.a.File,{ref:a,className:"d-none",id:"image-upload",accept:"image/*",onChange:s})]})},Oe=a(68),ge=a(154);var ve=e=>{let{handleTagsChange:t}=e;const[a,c]=Object(s.useState)([]),[n,r]=Object(s.useState)(""),[o,l]=Object(s.useState)(!1),[i,j]=Object(s.useState)("");return Object(s.useEffect)((()=>{a.length>=5?(j("Maximum of 5 tags allowed."),l(!0)):(j(""),l(!1)),t(a)}),[a]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(b.a.Group,{controlId:"tags",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Text"}),Object(O.jsx)(b.a.Control,{type:"text",placeholder:"Add a tag and press Enter",name:"tags",value:n,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&""!==n.trim()&&(e.preventDefault(),j(""),c((e=>[...e,n.trim()])),r(""))},disabled:o})]}),i&&Object(O.jsx)(V.a,{variant:"warning",children:i}),Object(O.jsx)("div",{children:a.map(((e,t)=>Object(O.jsxs)(Oe.a,{pill:!0,variant:"secondary",className:"mr-2 mb-4",children:[e,Object(O.jsx)("span",{onClick:()=>{return e=t,void c((t=>t.filter(((t,a)=>a!==e))));var e},style:{cursor:"pointer"},children:Object(O.jsx)(ge.a,{className:"ms-2",style:{width:"16px",height:"16px"}})})]},t)))})]})};var _e=()=>{var e,t,a,c;const n=Object(R.useHistory)(),[r,l]=Object(s.useState)({title:"",content:"",location:"",tags:[],image:null}),{title:i,content:j,location:d,tags:u,image:m}=r,[h,x]=Object(s.useState)({}),p=Object(s.useRef)(null),g=e=>{l({...r,[e.target.name]:e.target.value})},v=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(b.a.Group,{controlId:"title",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Title"}),Object(O.jsx)(b.a.Control,{type:"text",placeholder:"Enter title",name:"title",value:i,onChange:g})]}),!i&&(null===(e=h.title)||void 0===e?void 0:e.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t)))),Object(O.jsxs)(b.a.Group,{controlId:"content",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Text"}),Object(O.jsx)(b.a.Control,{as:"textarea",placeholder:"Text (Optional)",name:"content",value:j,rows:5,onChange:g})]}),null===(t=h.content)||void 0===t?void 0:t.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t))),Object(O.jsx)(ve,{handleTagsChange:e=>{l({...r,tags:e})}}),null===(a=h.tags)||void 0===a?void 0:a.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t)))]});return Object(O.jsx)(o.a,{className:"mt-4",children:Object(O.jsxs)(b.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",i),t.append("content",j),p.current.files[0]&&t.append("image",p.current.files[0]);try{if(d){const e=await(async e=>{try{const t={latitude:e.lat,longitude:e.lng};return(await A.post("/locations/",t)).data}catch(t){console.log(t)}})(d);t.append("location",e.id)}if(u){const e=await(async e=>{const t=[];for(let s of e)try{const e=await A.get("/tags/?search=".concat(s));if(e.data.results&&e.data.results.length>0){const a=e.data.results.find((e=>e.name===s));if(a)t.push(a);else{const e=await A.post("/tags/",{name:s});t.push(e.data)}}else{const e=await A.post("/tags/",{name:s});t.push(e.data)}}catch(a){console.log(a)}return t})(u);e.forEach((e=>t.append("tags",e.id)))}const{data:e}=await A.post("/posts/",t);n.push("/posts/".concat(e.id))}catch(a){x(a.response.data)}},children:[Object(O.jsx)(Q.a,{className:ne.a.Form,children:Object(O.jsx)(K.a,{lg:6,className:"text-center",children:Object(O.jsx)(pe,{image:m,imageInputRef:p,handleChangeImage:e=>{URL.revokeObjectURL(m),l({...r,image:URL.createObjectURL(e.target.files[0])})}})})}),Object(O.jsxs)(Q.a,{className:"align-items-center",children:[Object(O.jsx)(K.a,{md:6,children:v}),Object(O.jsxs)(K.a,{md:6,children:[Object(O.jsxs)(b.a.Group,{controlId:"location",children:[Object(O.jsx)(b.a.Label,{className:"d-none",children:"Location"}),Object(O.jsx)(de,{handleLocationChange:e=>{l({...r,location:e})}}),Object(O.jsx)(b.a.Control,{name:"location",value:d,disabled:!0,className:"d-none"})]}),!d&&(null===(c=h.location)||void 0===c?void 0:c.map(((e,t)=>Object(O.jsx)(V.a,{variant:"warning",children:e},t))))]})]}),Object(O.jsx)(Q.a,{className:ne.a.Buttons__Container,children:Object(O.jsxs)(K.a,{className:"my-3",children:[Object(O.jsx)(W,{variant:"Secondary",onClick:()=>n.goBack(),children:"Cancel"}),Object(O.jsx)(W,{variant:"Primary",type:"submit",children:"Create post"})]})})]})})},fe=a(32),Ne=a(97),ye=a(80),we=a(79),Ce=a(159),Ie=a(39),Se=a.n(Ie),ke=a(155),Le=a(157),Pe=a(156);var Be=e=>{const{id:t,owner:a,profile_id:c,profile_image:n,profile_name:r,title:o,content:l,image:i,location:j,tags:d,like_id:u,likes_count:b,comments_count:m,updated_at:h,postPage:x,setPosts:p}=e,v=G(),_=(null===v||void 0===v?void 0:v.username)===a,[f,N]=Object(s.useState)(null),[y,w]=Object(s.useState)(null),[C,I]=Object(s.useState)(null);return Object(s.useEffect)((()=>{(async()=>{try{if(j){const e=(await A.get("/locations/".concat(j))).data;N([e.latitude,e.longitude]),w({country:e.country,city:e.city})}if(d&&d.length>0){const e=[];for(let t of d){const a=(await E.get("/tags/".concat(t))).data.name;e.push(a)}I(e)}}catch(e){console.log(e)}})()}),[j,d]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Q.a,{children:[Object(O.jsx)(K.a,{xs:12,md:7,children:Object(O.jsxs)(fe.a,{className:"my-2",children:[Object(O.jsxs)(fe.a.Body,{children:[Object(O.jsxs)(Ne.a,{className:"justify-content-between align-items-center",children:[Object(O.jsxs)(P.b,{to:"/profiles/".concat(c),children:[Object(O.jsx)(g,{src:n,height:50}),r||a]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:h}),_&&x&&" ..."]})]}),Object(O.jsx)("hr",{}),o&&Object(O.jsx)(fe.a.Title,{className:"my-2",children:o}),C&&C.map(((e,t)=>Object(O.jsx)(Oe.a,{pill:!0,variant:"secondary",className:"mr-2 mb-4",children:e},t))),i&&Object(O.jsx)(P.b,{to:"/posts/".concat(t),children:Object(O.jsx)(fe.a.Img,{src:i,alt:o})})]}),Object(O.jsxs)(fe.a.Body,{children:[l&&Object(O.jsx)(fe.a.Text,{children:l}),Object(O.jsxs)("div",{className:Se.a.LikesComments,children:[Object(O.jsxs)("span",{children:[_?Object(O.jsx)(ye.a,{placement:"top",overlay:Object(O.jsx)(we.a,{children:"You can't like your own post!"}),children:Object(O.jsx)(ke.a,{className:Se.a.Icon})}):u?Object(O.jsx)("span",{onClick:async()=>{try{await A.delete("/likes/".concat(u)),p((e=>({...e,results:e.results.map((e=>e.id===t?{...e,likes_count:e.likes_count-1,like_id:null}:e))})))}catch(e){console.log(e)}},children:Object(O.jsx)(Pe.a,{className:"".concat(Se.a.Icon," ").concat(Se.a.IconSolid)})}):v?Object(O.jsx)("span",{onClick:async()=>{try{const e=(await A.post("/likes/",{post:t})).data;p((a=>({...a,results:a.results.map((a=>a.id===t?{...a,likes_count:a.likes_count+1,like_id:e.id}:a))})))}catch(e){console.log(e)}},children:Object(O.jsx)(ke.a,{className:Se.a.Icon})}):Object(O.jsx)(ye.a,{placement:"top",overlay:Object(O.jsx)(we.a,{children:"Log in to like a post!"}),children:Object(O.jsx)(ke.a,{className:Se.a.Icon})}),b]}),Object(O.jsxs)("span",{children:[Object(O.jsx)(P.b,{to:"/posts/".concat(t),children:Object(O.jsx)(Le.a,{className:Se.a.Icon})}),m]})]})]})]})}),Object(O.jsx)(K.a,{md:5,children:Object(O.jsx)(fe.a,{className:"my-2",children:Object(O.jsxs)(fe.a.Body,{children:[Object(O.jsx)(fe.a.Text,{children:y&&"".concat(null===y||void 0===y?void 0:y.city,", ").concat(null===y||void 0===y?void 0:y.country.toUpperCase())}),f&&Object(O.jsxs)(le.a,{center:f,zoom:13,style:{height:"300px",width:"100%"},children:[Object(O.jsx)(ie.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(O.jsx)(Ce.a,{center:f,pathOptions:{fillColor:"red"},radius:300,stroke:!1})]})]})})})]}),Object(O.jsx)(Q.a,{children:Object(O.jsx)(K.a,{})})]})};var Fe=()=>{const{id:e}=Object(R.useParams)(),[t,a]=Object(s.useState)({results:[]});return Object(s.useEffect)((()=>{(async()=>{try{const[{data:t}]=await Promise.all([A.get("/posts/".concat(e))]);a({results:[t]}),console.log(t)}catch(t){console.log(t)}})()}),[e]),Object(O.jsxs)(o.a,{className:"h-100 mt-4",children:[Object(O.jsx)(Q.a,{children:Object(O.jsx)(K.a,{children:Object(O.jsx)(Be,{...t.results[0],setPosts:a,postPage:!0})})}),Object(O.jsx)(Q.a,{children:Object(O.jsx)(K.a,{children:Object(O.jsx)("h2",{children:"Comments"})})})]})},Ae=a(98);var Ee=e=>{let{message:t="No results found",filter:a=""}=e;const[c,n]=Object(s.useState)({results:[]}),[r,l]=Object(s.useState)(!1),{pathname:i}=Object(R.useLocation)(),j=G(),d=Object(s.useContext)(z);return Object(s.useEffect)((()=>{l(!1);const e=setTimeout((()=>{(async()=>{try{const e=(await A.get("/posts/?".concat(a))).data;console.log(e),n(e),l(!0)}catch(e){console.log(e)}})()}),1e3);return()=>{clearTimeout(e)}}),[a,i,j,d]),Object(O.jsx)(o.a,{children:Object(O.jsx)(Q.a,{children:Object(O.jsx)(K.a,{children:r?Object(O.jsx)(O.Fragment,{children:c.results.length?Object(O.jsx)(Ae.a,{children:c.results.map((e=>Object(O.jsx)(Be,{...e,setPosts:n},e.id))),dataLength:c.results.length,loader:Object(O.jsx)(he,{spinner:!0}),hasMore:!!c.next,next:()=>(async(e,t)=>{try{const a=(await A.get(e.next)).data;t((e=>({...e,next:a.next,results:a.results.reduce(((e,t)=>e.some((e=>e.id===t.id))?e:[...e,t]),e.results)})))}catch(a){console.log(a)}})(c,n)}):Object(O.jsx)(he,{src:"https://res.cloudinary.com/drffvkjy6/image/upload/v1708332982/search_no_results_pujyrg.webp",message:t,height:250,width:250})}):Object(O.jsx)(he,{spinner:!0})})})})};var Re=function(){const e=G(),t=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(O.jsxs)("div",{className:i.a.App,children:[Object(O.jsx)(J,{}),Object(O.jsx)(o.a,{className:i.a.Main,children:Object(O.jsxs)(R.Switch,{children:[Object(O.jsx)(R.Route,{exact:!0,path:"/",render:()=>Object(O.jsx)(Ee,{})}),Object(O.jsx)(R.Route,{exact:!0,path:"/feed",render:()=>Object(O.jsx)(Ee,{filter:"owner__followed__owner__profile=".concat(t,"&")})}),Object(O.jsx)(R.Route,{exact:!0,path:"/events",render:()=>Object(O.jsx)("h2",{children:"Events page"})}),Object(O.jsx)(R.Route,{exact:!0,path:"/signup",render:()=>Object(O.jsx)(ae,{})}),Object(O.jsx)(R.Route,{exact:!0,path:"/signin",render:()=>Object(O.jsx)(se,{})}),Object(O.jsx)(R.Route,{exact:!0,path:"/posts/create",render:()=>Object(O.jsx)(_e,{})}),Object(O.jsx)(R.Route,{exact:!0,path:"/posts/:id",render:()=>Object(O.jsx)(Fe,{})}),Object(O.jsx)(R.Route,{render:()=>Object(O.jsx)("p",{children:"Page not found!"})})]})})]})};var Te=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,160)).then((t=>{let{getCLS:a,getFID:s,getFCP:c,getLCP:n,getTTFB:r}=t;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(P.a,{children:Object(O.jsx)(M,{children:Object(O.jsx)(q,{children:Object(O.jsx)(Re,{})})})})}),document.getElementById("root")),Te()},20:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Icon:"App_Icon__Zp3GY",Link:"App_Link__K7VoX"}},23:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb",SearchBar:"NavBar_SearchBar__2lc1T",SearchIcon:"NavBar_SearchIcon__10Jjb"}},36:function(e,t,a){e.exports={Row:"SignInUpForm_Row__3PbVy",Background:"SignInUpForm_Background__2UCxs",FormContainer:"SignInUpForm_FormContainer__2i1tx"}},39:function(e,t,a){e.exports={LikesComments:"Post_LikesComments__3jnyr",Icon:"Post_Icon__QlaPt",IconSolid:"Post_IconSolid__1Ziq7"}},43:function(e,t,a){e.exports={Button:"CustomButton_Button__3fNIc",Primary:"CustomButton_Primary__2tgr9",Secondary:"CustomButton_Secondary__gDqme"}},49:function(e,t,a){e.exports={Form:"PostCreateForm_Form__1gdu0",Image__Container:"PostCreateForm_Image__Container__111di",Image:"PostCreateForm_Image__3QOu-",Buttons__Container:"PostCreateForm_Buttons__Container__3rBIT"}},92:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}},95:function(e,t,a){e.exports={Asset:"Asset_Asset__1dBcX"}}},[[136,1,2]]]);
//# sourceMappingURL=main.7feae94a.chunk.js.map